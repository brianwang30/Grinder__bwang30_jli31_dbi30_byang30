<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>Grass</title>
    <script defer>
        window.addEventListener("scroll", function(){
        const nav = document.querySelector('nav');
        console.log(nav);
        nav.classList.toggle('sticky', window.scrollY > 0);
        })
    </script>
</head>
<body class="pokequiz d-flex flex-column align-items-center">
    <nav>
        <form class="nav-links">
            <ul class="nav-side">
            <li>
                <button class='nav-button' formaction="/">Home</button>
            </li>
            <li>
                <button class='nav-button' formaction="/logout">Logout</button>
            </li>
            </ul>
            <ul class="nav-side">
            <li>
                <button class='nav-button' formaction="/pokequiz">Pokemon Quiz</button>
            </li>
            <li>
                <button class='nav-button' formaction="/animequiz">Anime Quiz</button>
            </li>
            </ul>
        </form>
        <div class="grass-meter">
            <div class="title left">Grass</div>
            <div class="value">{{grassometer}}</div>
            <div class="title right">o' Meter</div>
        </div>
    </nav>

    <form class="answer-choice-form">
        <img src="{{correct_img}}" alt="" class="poke-img">
        <h1>{{status}}</h1>
        <div class="answer-choice {{choices_status[0]}}">{{choices[0]}}</div>
        <div class="answer-choice {{choices_status[1]}}">{{choices[1]}}</div>
        <div class="answer-choice {{choices_status[2]}}">{{choices[2]}}</div>
        <div class="answer-choice {{choices_status[3]}}">{{choices[3]}}</div>
        <button formaction="/yo" type="submit" class="submit">Submit Answer</button>
    </form>

    <script>
        const answers = document.querySelectorAll('.answer-choice');
        const submit = document.querySelector('.submit');
        answers.forEach(answer => {
            answer.addEventListener('click', function() {
                answers.forEach(a => a.classList.remove('chosen'))
                this.classList.add('chosen');
                if (this.classList.contains('correct')) {
                    submit.formAction = '/pokecorrect';
                } else {
                    submit.formAction = '/pokeincorrect';
                }
                answer.classList.add('pressed');
            })
        })
        answers.forEach(answer => {
            answer.addEventListener('transitionend', function(){
                this.classList.remove('pressed');
            })
        })
    </script>
</body>
</html>
